<form (ngSubmit)="getStream()">
  <md-select
    placeholder="microphone"
    [(ngModel)]="selectedMic"
    name="micSelector">
    <md-option *ngFor="let mic of mics" [value]="mic.deviceId">
      <!--{deviceId2Label[mic.deviceId]}-->
      {{mic.label || deviceId2Label[mic.deviceId]}}
    </md-option>
  </md-select>

  <md-select
    placeholder="camera"
    [(ngModel)]="selectedCam"
    name="camSelector">
    <md-option *ngFor="let cam of cams" [value]="cam.deviceId">
      {{cam.label || deviceId2Label[cam.deviceId]}}
    </md-option>
  </md-select>

  <button md-raised-button color="primary" type="submit">
    Use
  </button>
  <button md-raised-button id="record" *ngIf="webcamSrcObject && (recorder ? recorder.state !== 'recording' : true)"
          (click)="startRecord()">
    <md-icon class="record_voice_over">record_voice_over</md-icon>
    Record
  </button>
  <button md-raised-button id="stopRecording" *ngIf="recorder && recorder.state !== 'inactive'" (click)="stopRecord()">
    <md-icon class="stop">stop</md-icon>
    End recording
  </button>
  <span *ngIf="recorder" id="state">{{recorder.state}}</span>
</form>

<video muted autoplay *ngIf="webcamSrcObject" [srcObject]="webcamSrcObject" id="webcam"></video>
<ul id="ul"></ul>
