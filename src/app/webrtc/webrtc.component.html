<form (ngSubmit)="getStream()">
  <md-select
    placeholder="microphone"
    [(ngModel)]="selectedMic"
    name="micSelector">
    <md-option *ngFor="let mic of mics" [value]="mic.deviceId">
      {{mic.label || mic.deviceId}}
    </md-option>
  </md-select>

  <md-select
    placeholder="camera"
    [(ngModel)]="selectedCam"
    name="camSelector">
    <md-option *ngFor="let cam of cams" [value]="cam.deviceId">
      {{cam.label || cam.deviceId}}
    </md-option>
  </md-select>

  <button md-raised-button color="primary" type="submit" *ngIf="!recorder || recorder.state === 'inactive'">
    Use
  </button>
  <button md-raised-button id="record" *ngIf="stream && (recorder ? recorder.state !== 'recording' : true)"
          (click)="startRecord()">
    <md-icon class="record_voice_over">record_voice_over</md-icon>
    Record
  </button>
  <button md-raised-button id="stopRecording" *ngIf="recorder && recorder.state !== 'inactive'" (click)="stopRecord()">
    <md-icon class="stop">stop</md-icon>
    End recording
  </button>
  <span *ngIf="recorder" id="state">{{recorder.state}}</span>
</form>

<video muted autoplay *ngIf="stream" #webcam></video>
<!--
<div #broadcast></div>
<button md-button (disabled)="openRtcRoomToggle" (click)="openRtcRoom()">
  Open Room
</button>
<button md-button (disabled)="joinRtcRoomToggle" (click)="joinRtcRoom()">
  Join Room
</button>
-->

<!--
<label for="yourId">YourID</label>
<textarea id="yourId"></textarea>
<label for="otherId">OtherID</label>
<textarea id="otherId"></textarea>


<form (ngSubmit)="sub($event)">
  <label for="incoming">Incoming</label>
  <textarea [(ngModel)]="incoming" name="incoming" id="incoming"></textarea>
  <button type="submit">submit</button>
</form>
<pre>outgoing = {{outgoing | json}}</pre>
-->
